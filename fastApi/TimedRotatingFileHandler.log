2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,333 uvicorn.error INFO ('127.0.0.1', 57195) - "WebSocket /getData" [accepted]
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:17,355 uvicorn.error INFO connection open
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:31,147 uvicorn.error ERROR Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 225, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\cors.py", line 76, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\middleware\exceptions.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 334, in handle
    await self.app(scope, receive, send)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\routing.py", line 81, in app
    await func(session)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\fastapi\routing.py", line 283, in app
    await dependant.call(**values)
  File "C:\Users\jtannoury\Desktop\All Projects\plot-instrument-prices\fastApi\.\main.py", line 139, in getData
    await websocket.send_text(json.dumps([buying_prices,message['timestamp']]))
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 164, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\starlette\websockets.py", line 85, in send
    await self._send(message)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 298, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 632, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1189, in write_frame
    await self.drain()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 1178, in drain
    await self.ensure_open()
  File "C:\Users\jtannoury\AppData\Local\Programs\Python\Python310\lib\site-packages\websockets\legacy\protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
2022-09-25 15:36:34,691 uvicorn.error INFO connection closed
